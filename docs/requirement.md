# PromptMint - 要件定義書

## 1. プロジェクト概要

### ビジョン

AIプロンプトを「トレーディングカード」として「ミント」（作成）・共有できる教育向けWebアプリケーション

### 主要コンセプト

- プロンプトを視覚的に魅力的なカード形式で「ミント」（作成）
- 収集・共有を通じた学習体験の向上
- 従来のテキストベース共有プラットフォームとの差別化

### 基本仕様

- **UI言語**: 英語
- **開発規模**: 個人開発プロジェクト
- **収益モデル**: 基本無料（将来的にプレミアム機能追加）

## 2. ターゲットユーザー

### 主要ユーザー層

- AI学習に興味がある一般ユーザー
- プロンプト作成経験：中級者以上を想定
- 個人学習者（教育機関連携は将来検討）

### ユーザーメリット

- **初心者**: おすすめフィードから質の高いプロンプトを発見
- **中・上級者**: プロンプトの保管場所として活用
- **全ユーザー**: コミュニティからのフィードバックによる改善

## 3. MVP機能仕様

### 実装優先順位

1. ユーザー認証・プロフィール
2. プロンプトカード「ミント」（作成）・編集・削除
3. フィード表示（最新順）
4. お気に入りプロンプトカード一覧表示
5. いいね機能
6. コメント機能
7. 検索・フィルター
8. 派生プロンプト作成

### 3週間プロトタイプ（最小機能）

- Supabase認証（メールのみ）
- プロンプトカード「ミント」・表示
- 最新順フィード
- いいね機能

### カード機能詳細

- **レアリティシステム**:
  - Bronze: 5 likes
  - Silver: 20 likes
  - Gold: 50 likes
  - Platinum: 100 likes
- **派生機能**: 元プロンプトへ75%の評価反映
- **表示要素**: タイトル、説明、プロンプト内容（省略可）、作成者、使用統計、推奨AIモデル

## 4. 技術アーキテクチャ

### コアフレームワーク（T3 Stack カスタマイズ版）

- **Next.js**: React フレームワーク（App Router使用）
- **TypeScript**: 型安全性
- **Tailwind CSS**: スタイリング
- **tRPC**: 型安全なAPI
- **Prisma**: ORM

### UIコンポーネント

- **shadcn UI**: Radix UIベース、Tailwind CSS統合

### バックエンドサービス

- **Supabase**:
  - 認証（Supabase Auth）
  - データベース（PostgreSQL）
  - リアルタイム機能
  - ストレージ

### ホスティング

- **Vercel**: Next.js最適化、自動デプロイ

## 5. データモデル

### プロンプトカード

```txt
- id
- title
- description
- prompt_text (max: 5000文字)
- category (事前定義)
- ai_model
- author_id
- created_at
- likes_count
- fork_count
- parent_prompt_id
- version
```

### カテゴリー

- Programming
- Writing
- Analysis & Research
- Learning & Education
- Creative & Art
- Others

### 推奨AIモデル

- Claude
- GPT
- Gemini
- Others

## 6. UI/UX設計

### カードデザイン

- **形状**: クレジットカード縦型比率
- **生成方法**: CSS/SVG動的生成
- **テーマ**: 統一デザイン（レアリティで背景・エフェクト・枠を差別化）

### フィードレイアウト（Masonry Grid Layout）

- **表示方式**: Pinterest風の可変高さグリッド
- **列数**:
  - デスクトップ: 3-4列
  - タブレット: 2-3列
  - モバイル: 1-2列
- **カード高**: プロンプトの長さに応じて可変
- **隙間**: カード間は均等な間隔（16-20px）
- **表示順**: 初期は最新順（将来的にパーソナライズ）
- **スクロール**: 無限スクロール実装

### カード表示内容（フィード時）

- **常時表示**:
  - タイトル
  - カテゴリーバッジ
  - レアリティインジケーター
  - 作成者名
  - いいね数
  - AIモデルアイコン
- **ホバー時**:
  - 説明文の一部（最大100文字）
  - カードの軽い拡大効果
  - 影の強調
- **クリック時**:
  - モーダルでフルカード表示
  - 完全なプロンプトテキスト
  - コメント欄
  - 派生作成ボタン

### インタラクション

- **通常時**: カードはまっすぐ表示
- **ホバー時**: 軽い拡大（scale: 1.02）と影の強調
- **いいね時**: ハートアニメーション
- **レアリティ別エフェクト**:
  - Bronze: 通常表示
  - Silver: 薄い光沢効果
  - Gold: 金色の輝き
  - Platinum: キラキラエフェクト

### 検索・フィルター

- カテゴリー選択
- キーワード検索
- AIモデル別フィルター（将来実装）

### 必須入力項目

- Title
- Description
- Category
- Recommended AI Model

## 7. セキュリティ・コンテンツ管理

### セキュリティ対策

- HTMLタグエスケープ（XSS対策）
- URL自動リンク化の無効化
- Supabase Row Level Security
- レート制限：1日5投稿/ユーザー

### コンテンツ管理

- ユーザー報告機能
- 週次での手動確認
- 問題カードの非表示化
- 利用規約での禁止事項明記

## 8. 開発スケジュール

### タイムライン

- **3週間**: 動作するプロトタイプ
- **2ヶ月**: MVP完成

### 目標メトリクス（初年度）

- ユーザー数：100-500人
- 月間投稿数：50-200件

## 9. 将来実装機能（MVP後）

### 機能拡張

- バージョン管理（編集履歴表示）
- レアリティビジュアルエフェクト
- プライベートコレクション
- 派生ツリー可視化
- 通知機能
- プロフィールカスタマイズ

### プレミアム機能案

- 高度な検索フィルター
- プロンプトコレクションの一括エクスポート（JSON形式）
- 詳細な使用統計・分析

## 10. 未決定事項

- ドメイン名
- ワイヤーフレームデザイン
- 詳細なデータベーススキーマ

---
